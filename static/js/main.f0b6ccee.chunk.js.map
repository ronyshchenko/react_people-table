{"version":3,"sources":["api/api.js","components/person/person.js","components/people-table/index.js","components/people-table/people-table.js","App.js","index.js"],"names":["getGoods","fetch","then","response","json","Person","Personclass","PersonclassAge","_this$props","this","props","person","onSelected","sex","born","concat","age","isSelected","console","log","react_default","a","createElement","className","onClick","id","name","died","motherName","fatherName","century","children","Component","PeopleTable","_ref","peoples","sortBy","elements","map","item","person_Person","key","App","state","term","getSortedPeoples","sortField","sort","peopleA","peopleB","nameA","nameB","_this","setState","handleSubmit","e","preventDefault","onLabelChange","target","value","toggleProperty","arr","idx1","findIndex","value1","item1","Object","objectSpread2","arr1","toConsumableArray","slice","idx","prevState","loadPeoples","peoplesApi","peopleApi","Math","ceil","movies","length","filter","movie","indexOf","_this2","visibleItems","search","Home","react_router_dom","to","exact","react_router","path","component","render","Fragment","onSubmit","type","placeholder","onChange","components_people_table","ReactDOM","App_App","test","document","getElementById"],"mappings":"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","file":"static/js/main.f0b6ccee.chunk.js","sourcesContent":["const API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getGoods = () => fetch(API_URL)\n  .then(response => response.json());\n","import React, { Component } from 'react';\n\nexport default class Person extends Component {\n  render() {\n    const { person, onSelected } = this.props;\n    let Personclass;\n    let PersonclassAge;\n\n    // let age = person.died - person.born;\n    // let century = Math.ceil(person.died / 100);\n    if (person.sex === 'm') {\n      Personclass = 'Person__male';\n    } else {\n      Personclass = 'Person__female';\n    }\n\n    if (person.born < 1650) {\n      Personclass = `${Personclass} before1650`;\n    }\n\n    if (person.age >= 65) {\n      PersonclassAge = 'moreThen65';\n    }\n\n    if (person.isSelected) {\n      console.log('rrr');\n      Personclass = `${Personclass} Trclass`;\n    }\n\n    return (\n      <tr className={Personclass} onClick={onSelected}>\n        <td>{person.id}</td>\n        <td>{person.name}</td>\n        <td>{person.sex}</td>\n        <td>{person.born}</td>\n        <td>{person.died}</td>\n        <td>{person.motherName}</td>\n        <td>{person.fatherName}</td>\n        <td className={PersonclassAge}>{person.age}</td>\n        <td>{person.century}</td>\n        <td>{person.children}</td>\n      </tr>\n    );\n  }\n}\n","import PeopleTable from './people-table';\n\nexport default PeopleTable;\n","import React from 'react';\n\nimport Person from '../person/person';\n\nconst PeopleTable = ({ peoples, onSelected, sortBy }) => {\n  const elements = peoples.map((item) => {\n    const { id } = item;\n\n    return (\n      <Person\n        key={id}\n        id={id}\n        person={item}\n        onSelected={() => onSelected(id)}\n      />\n    );\n  });\n\n  return (\n    <table className=\"highlight PeopleTable\">\n      <thead>\n        <tr>\n          <th onClick={() => sortBy('id')}>Id</th>\n          <th onClick={() => sortBy('name')}>Name</th>\n          <th onClick={() => sortBy('sex')}>Sex</th>\n          <th onClick={() => sortBy('born')}>Born</th>\n          <th onClick={() => sortBy('died')}>Died</th>\n          <th onClick={() => sortBy('motherName')}>Mother</th>\n          <th onClick={() => sortBy('fatherName')}>Father</th>\n          <th onClick={() => sortBy('age')}>Age</th>\n          <th onClick={() => sortBy('century')}>Century</th>\n          <th onClick={() => sortBy('children')}>Children</th>\n        </tr>\n      </thead>\n      {elements}\n    </table>\n  );\n};\n\nexport default PeopleTable;\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, NavLink } from 'react-router-dom';\nimport { getGoods } from './api/api';\nimport './App.css';\nimport PeopleTable from './components/people-table';\n\nexport default class App extends Component {\n  state = {\n    peoples: [],\n    term: '',\n  }\n\n  componentDidMount() {\n    this.loadPeoples();\n  }\n\ngetSortedPeoples = (peoples, sortField) => {\n    const callback = function(peopleA, peopleB) {\n      var nameA = peopleA[sortField]; \n      var nameB = peopleB[sortField]; \n      if (nameA === null) {\n        return -1;\n      }\n\n      if (nameB === null) {\n        return 1;\n      }\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    }\n    \n    \n\n      return peoples.sort(callback);\n  }\n  sortBy = (sortField) => {\n    this.setState({\n      peoples:  this.getSortedPeoples(this.state.peoples, sortField),\n      sortField: sortField\n  });\n}\n  \n  search (movies, term) {\n    if (term.length === 0) {\n      return movies;\n    }\n    return movies.filter((movie) => {\n      \n      return (movie.name.indexOf(term) > -1) || \n             (movie.motherName!==null && movie.motherName.indexOf(term) > -1) || \n             (movie.fatherName!==null && movie.fatherName.indexOf(term) > -1);\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n  }\n\n  onLabelChange = (e) => {\n    this.setState({\n      term: e.target.value\n    });\n  };\n\n  toggleProperty = (arr, id) => {\n    const idx1 = arr.findIndex((item) => item.isSelected === true);\n    console.log(idx1)\n    if (idx1 !== -1 &&  idx1 !== id) {\n      const oldItem1 = arr[idx1];\n      const value1 = !oldItem1.isSelected;\n      const item1 = { ...arr[idx1], isSelected: value1 } ;\n      let arr1 = [\n        ...arr.slice(0, idx1),\n        item1,\n        ...arr.slice(idx1 + 1)\n      ];\n      \n      const idx = arr1.findIndex((item) => item.id === id);\n      const oldItem = arr1[idx];\n      const value = !oldItem.isSelected;\n      const item = { ...arr1[idx], isSelected: value } ;\n      \n      return [\n        ...arr1.slice(0, idx),\n        item,\n        ...arr1.slice(idx + 1)\n      ];\n    }\n\n    const idx = arr.findIndex((item) => item.id === id);\n    const oldItem = arr[idx];\n    const value = !oldItem.isSelected;\n    const item = { ...arr[idx], isSelected: value } ;\n    \n    \n    return [\n      ...arr.slice(0, idx),\n      item,\n      ...arr.slice(idx + 1)\n    ];\n  };\n\n  onSelected = (id) => {\n    this.setState((prevState) => {\n     const peoples = this.toggleProperty(prevState.peoples, id);\n      return { peoples };\n    });\n  };\n\n  loadPeoples = () => {\n    let isSelected = false; \n    getGoods()\n      .then(( peoplesApi) => {\n        this.setState({ peoples: peoplesApi.map(function (peopleApi, id) {\n          let age = peopleApi['died']-peopleApi['born'];\n          let century = Math.ceil(peopleApi.died / 100);\n          return {id, isSelected, age, century, ...peopleApi};\n        }\n           \n        )\n        });\n      });\n    };\n  \n\n  render() {\n    const visibleItems = this.search(this.state.peoples, this.state.term);\n    const Home = () => <h5>Home page</h5>;\n    const NotFound = () => <h5>Page not found</h5>;\n    return (\n    <BrowserRouter>\n      <div className=\"App\">\n    <nav>\n    <ul>\n      <li>\n        <NavLink to=\"/\" exact>\n          Home\n        </NavLink>  \n      </li>\n      <li>\n        <NavLink to=\"/peopletable\">\n        PeopleTable\n        </NavLink>\n      </li>\n    </ul>\n    </nav>\n    <Switch>\n      <Route path=\"/\" exact component={Home}/>\n      <Route path=\"/home\" exact component={Home}/>\n      <Route path=\"/peopletable\" render={() => (\n        <>\n        <h5>People table</h5>\n        <form className=\"control\"\n                    onSubmit={this.handleSubmit}>\n                <input\n                  type=\"text\"\n                  id=\"search-query\"\n                  className=\"input\"\n                  placeholder=\"Type search word\"\n                  onChange={this.onLabelChange}\n                  //value={e.target.value }\n                />\n              </form>\n    <PeopleTable peoples = { visibleItems } \n      onSelected={this.onSelected}\n      sortBy = {this.sortBy}\n      />\n      </>\n      )\n      \n      }/>\n      <Route path=\"*\" component={NotFound} />  \n    </Switch>\n    </div>\n    </BrowserRouter>\n  \n    )\n  }\n\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}