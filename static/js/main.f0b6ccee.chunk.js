(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(20),c=n.n(l),o=n(8),u=n(6),i=n(10),m=n(11),s=n(13),d=n(12),p=n(14),h=n(1),f=function(){return fetch("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){return e.json()})},E=(n(27),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n=this.props,a=n.person,l=n.onSelected;return e="m"===a.sex?"Person__male":"Person__female",a.born<1650&&(e="".concat(e," before1650")),a.age>=65&&(t="moreThen65"),a.isSelected&&(console.log("rrr"),e="".concat(e," Trclass")),r.a.createElement("tr",{className:e,onClick:l},r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.sex),r.a.createElement("td",null,a.born),r.a.createElement("td",null,a.died),r.a.createElement("td",null,a.motherName),r.a.createElement("td",null,a.fatherName),r.a.createElement("td",{className:t},a.age),r.a.createElement("td",null,a.century),r.a.createElement("td",null,a.children))}}]),n}(a.Component)),b=function(e){var t=e.peoples,n=e.onSelected,a=e.sortBy,l=t.map(function(e){var t=e.id;return r.a.createElement(E,{key:t,id:t,person:e,onSelected:function(){return n(t)}})});return r.a.createElement("table",{className:"highlight PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return a("id")}},"Id"),r.a.createElement("th",{onClick:function(){return a("name")}},"Name"),r.a.createElement("th",{onClick:function(){return a("sex")}},"Sex"),r.a.createElement("th",{onClick:function(){return a("born")}},"Born"),r.a.createElement("th",{onClick:function(){return a("died")}},"Died"),r.a.createElement("th",{onClick:function(){return a("motherName")}},"Mother"),r.a.createElement("th",{onClick:function(){return a("fatherName")}},"Father"),r.a.createElement("th",{onClick:function(){return a("age")}},"Age"),r.a.createElement("th",{onClick:function(){return a("century")}},"Century"),r.a.createElement("th",{onClick:function(){return a("children")}},"Children"))),l)},g=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={peoples:[],term:""},e.getSortedPeoples=function(e,t){return e.sort(function(e,n){var a=e[t],r=n[t];return null===a?-1:null===r?1:a<r?-1:a>r?1:0})},e.sortBy=function(t){e.setState({peoples:e.getSortedPeoples(e.state.peoples,t),sortField:t})},e.handleSubmit=function(e){e.preventDefault()},e.onLabelChange=function(t){e.setState({term:t.target.value})},e.toggleProperty=function(e,t){var n=e.findIndex(function(e){return!0===e.isSelected});if(console.log(n),-1!==n&&n!==t){var a=!e[n].isSelected,r=Object(u.a)(Object(u.a)({},e[n]),{},{isSelected:a}),l=[].concat(Object(o.a)(e.slice(0,n)),[r],Object(o.a)(e.slice(n+1))),c=l.findIndex(function(e){return e.id===t}),i=!l[c].isSelected,m=Object(u.a)(Object(u.a)({},l[c]),{},{isSelected:i});return[].concat(Object(o.a)(l.slice(0,c)),[m],Object(o.a)(l.slice(c+1)))}var s=e.findIndex(function(e){return e.id===t}),d=!e[s].isSelected,p=Object(u.a)(Object(u.a)({},e[s]),{},{isSelected:d});return[].concat(Object(o.a)(e.slice(0,s)),[p],Object(o.a)(e.slice(s+1)))},e.onSelected=function(t){e.setState(function(n){return{peoples:e.toggleProperty(n.peoples,t)}})},e.loadPeoples=function(){f().then(function(t){e.setState({peoples:t.map(function(e,t){var n=e.died-e.born,a=Math.ceil(e.died/100);return Object(u.a)({id:t,isSelected:!1,age:n,century:a},e)})})})},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.loadPeoples()}},{key:"search",value:function(e,t){return 0===t.length?e:e.filter(function(e){return e.name.indexOf(t)>-1||null!==e.motherName&&e.motherName.indexOf(t)>-1||null!==e.fatherName&&e.fatherName.indexOf(t)>-1})}},{key:"render",value:function(){var e=this,t=this.search(this.state.peoples,this.state.term),n=function(){return r.a.createElement("h5",null,"Home page")};return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/peopletable"},"PeopleTable")))),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,component:n}),r.a.createElement(h.a,{path:"/home",exact:!0,component:n}),r.a.createElement(h.a,{path:"/peopletable",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"People table"),r.a.createElement("form",{className:"control",onSubmit:e.handleSubmit},r.a.createElement("input",{type:"text",id:"search-query",className:"input",placeholder:"Type search word",onChange:e.onLabelChange})),r.a.createElement(b,{peoples:t,onSelected:e.onSelected,sortBy:e.sortBy}))}}),r.a.createElement(h.a,{path:"*",component:function(){return r.a.createElement("h5",null,"Page not found")}}))))}}]),n}(a.Component);c.a.render(r.a.createElement(g,{test:123}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f0b6ccee.chunk.js.map